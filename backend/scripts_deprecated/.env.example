# Backend Environment Variables

# Server Configuration
NODE_ENV=development
PORT=5000

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Database URL - Get from Supabase Settings > Database > Connection string
SUPABASE_DB_URL=postgresql://postgres:password@host:port/postgres
DATABASE_URL=postgresql://postgres:password@host:port/postgres

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-here
JWT_EXPIRES_IN=24h

# CORS Configuration
CORS_ORIGIN=http://localhost:5179

# Session Configuration
SESSION_SECRET=your-session-secret-key

# Google OAuth Configuration (optional)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:5000/api/auth/google/callback

# Brevo Email Service Configuration
# API keys are configured per-store in the admin UI (Settings > Brevo tab)
# No global configuration needed - each store has its own Brevo API key

# Stripe Payment Configuration (optional)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Anthropic Claude AI (for AI features)
ANTHROPIC_API_KEY=sk-ant-your-api-key

# Feature Flags (optional)
ENABLE_BREVO_EMAILS=true
ENABLE_CREDIT_SYSTEM=true
ENABLE_AI_FEATURES=true

# Redis Cache Configuration (Performance Optimization)
# For Render.com managed Redis: Use REDIS_URL (automatically provided by Render)
# For self-hosted Redis: Use REDIS_HOST, REDIS_PORT, REDIS_PASSWORD
REDIS_ENABLED=true
REDIS_URL=redis://localhost:6379
# Alternative: Self-hosted Redis configuration
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password
# REDIS_DB=0
# REDIS_CONNECT_TIMEOUT=10000

# Database Connection Pool Configuration
# Main service recommended: DB_POOL_MAX=10, DB_POOL_MIN=2
# Worker service recommended: DB_POOL_MAX=5, DB_POOL_MIN=1
DB_POOL_MAX=10
DB_POOL_MIN=2
SERVICE_TYPE=main

# Cloudflare CDN Configuration (Performance Optimization)
# Get these from Cloudflare Dashboard
CLOUDFLARE_ZONE_ID=your-zone-id
CLOUDFLARE_API_TOKEN=your-api-token
CLOUDFLARE_ACCOUNT_ID=your-account-id
CLOUDFLARE_IMAGES_ENABLED=false
CLOUDFLARE_CDN_DOMAIN=https://your-domain.com

# Database Provider OAuth Configuration
# Neon PostgreSQL (Serverless PostgreSQL)
# Register at: https://console.neon.tech/app/settings/oauth
NEON_CLIENT_ID=your-neon-client-id
NEON_CLIENT_SECRET=your-neon-client-secret
NEON_REDIRECT_URI=https://yourdomain.com/oauth/neon/callback

# PlanetScale MySQL (Serverless MySQL)
# Register at: https://app.planetscale.com/settings/oauth-applications
PLANETSCALE_CLIENT_ID=your-planetscale-client-id
PLANETSCALE_CLIENT_SECRET=your-planetscale-client-secret
PLANETSCALE_REDIRECT_URI=https://yourdomain.com/oauth/planetscale/callback
