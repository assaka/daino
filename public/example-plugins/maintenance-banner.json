{
  "packageVersion": "1.0.0",
  "exportedAt": "2026-01-01T12:00:00.000Z",
  "plugin": {
    "name": "Maintenance Banner",
    "slug": "maintenance-banner",
    "version": "1.0.0",
    "description": "Display an announcement banner below the navbar for maintenance notices, promotions, or important messages",
    "author": "DainoStore",
    "category": "display",
    "type": "utility",
    "framework": "react",
    "manifest": {
      "name": "Maintenance Banner",
      "tags": ["banner", "announcement", "maintenance", "notification", "homepage"],
      "author": "DainoStore",
      "version": "1.0.0",
      "category": "display",
      "description": "Show important announcements to customers with customizable styling and scheduling",
      "permissions": []
    },
    "permissions": [],
    "dependencies": [],
    "tags": ["banner", "announcement", "maintenance"]
  },
  "files": [],
  "events": [],
  "hooks": [],
  "widgets": [
    {
      "widgetId": "maintenance-banner-widget",
      "widgetName": "Maintenance Banner",
      "description": "Announcement banner that appears below the navigation bar",
      "componentCode": "function MaintenanceBannerWidget({ config = {} }) {\n  const [visible, setVisible] = React.useState(true);\n  const [dismissed, setDismissed] = React.useState(false);\n\n  const {\n    message = 'We are currently undergoing scheduled maintenance. Some features may be unavailable.',\n    type = 'warning',\n    showIcon = true,\n    dismissible = true,\n    startDate = null,\n    endDate = null,\n    linkText = null,\n    linkUrl = null\n  } = config;\n\n  React.useEffect(() => {\n    // Check if banner was dismissed in this session\n    const dismissedKey = `banner-dismissed-${message.substring(0, 20)}`;\n    if (sessionStorage.getItem(dismissedKey)) {\n      setDismissed(true);\n    }\n\n    // Check date range if specified\n    if (startDate || endDate) {\n      const now = new Date();\n      if (startDate && new Date(startDate) > now) {\n        setVisible(false);\n      }\n      if (endDate && new Date(endDate) < now) {\n        setVisible(false);\n      }\n    }\n  }, [message, startDate, endDate]);\n\n  const handleDismiss = () => {\n    const dismissedKey = `banner-dismissed-${message.substring(0, 20)}`;\n    sessionStorage.setItem(dismissedKey, 'true');\n    setDismissed(true);\n  };\n\n  if (!visible || dismissed) return null;\n\n  const typeStyles = {\n    warning: {\n      bg: '#fef3c7',\n      border: '#f59e0b',\n      text: '#92400e',\n      icon: ''\n    },\n    error: {\n      bg: '#fee2e2',\n      border: '#ef4444',\n      text: '#991b1b',\n      icon: ''\n    },\n    info: {\n      bg: '#dbeafe',\n      border: '#3b82f6',\n      text: '#1e40af',\n      icon: ''\n    },\n    success: {\n      bg: '#d1fae5',\n      border: '#10b981',\n      text: '#065f46',\n      icon: ''\n    },\n    maintenance: {\n      bg: '#fef3c7',\n      border: '#f59e0b',\n      text: '#92400e',\n      icon: ''\n    }\n  };\n\n  const style = typeStyles[type] || typeStyles.warning;\n\n  return React.createElement('div', {\n    style: {\n      width: '100%',\n      backgroundColor: style.bg,\n      borderBottom: `2px solid ${style.border}`,\n      padding: '12px 16px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      gap: '12px',\n      position: 'relative',\n      zIndex: 40\n    }\n  },\n    showIcon && React.createElement('span', {\n      style: { fontSize: '20px' }\n    }, style.icon),\n    React.createElement('span', {\n      style: {\n        color: style.text,\n        fontSize: '14px',\n        fontWeight: '500',\n        textAlign: 'center'\n      }\n    },\n      message,\n      linkText && linkUrl && React.createElement('a', {\n        href: linkUrl,\n        style: {\n          marginLeft: '8px',\n          color: style.text,\n          textDecoration: 'underline',\n          fontWeight: '600'\n        }\n      }, linkText)\n    ),\n    dismissible && React.createElement('button', {\n      onClick: handleDismiss,\n      style: {\n        position: 'absolute',\n        right: '16px',\n        background: 'none',\n        border: 'none',\n        fontSize: '18px',\n        cursor: 'pointer',\n        color: style.text,\n        opacity: 0.7,\n        padding: '4px'\n      },\n      'aria-label': 'Dismiss'\n    }, 'Ã—')\n  );\n}",
      "defaultConfig": {
        "message": "We are currently undergoing scheduled maintenance. Some features may be unavailable.",
        "type": "maintenance",
        "showIcon": true,
        "dismissible": true,
        "startDate": null,
        "endDate": null,
        "linkText": null,
        "linkUrl": null
      },
      "category": "display",
      "icon": "AlertTriangle"
    }
  ],
  "entities": [],
  "migrations": [],
  "controllers": [
    {
      "name": "getBannerConfig",
      "method": "GET",
      "path": "/config",
      "code": "async function getBannerConfig(req, res, { sequelize }) {\n  try {\n    const result = await sequelize.query(`\n      SELECT value FROM plugin_data \n      WHERE plugin_id = (SELECT id FROM plugin_registry WHERE slug = 'maintenance-banner' LIMIT 1)\n      AND key = 'config'\n    `, {\n      type: sequelize.QueryTypes.SELECT\n    });\n\n    const config = result[0]?.value || {\n      message: 'We are currently undergoing scheduled maintenance.',\n      type: 'maintenance',\n      showIcon: true,\n      dismissible: true,\n      enabled: false\n    };\n\n    return res.json({ success: true, config });\n  } catch (error) {\n    return res.status(500).json({ success: false, error: error.message });\n  }\n}",
      "description": "Get current banner configuration"
    },
    {
      "name": "updateBannerConfig",
      "method": "POST",
      "path": "/config",
      "code": "async function updateBannerConfig(req, res, { sequelize }) {\n  const { message, type, showIcon, dismissible, enabled, startDate, endDate, linkText, linkUrl } = req.body;\n\n  try {\n    const config = {\n      message: message || 'Maintenance in progress',\n      type: type || 'maintenance',\n      showIcon: showIcon !== false,\n      dismissible: dismissible !== false,\n      enabled: enabled || false,\n      startDate: startDate || null,\n      endDate: endDate || null,\n      linkText: linkText || null,\n      linkUrl: linkUrl || null\n    };\n\n    await sequelize.query(`\n      INSERT INTO plugin_data (plugin_id, key, value, created_at, updated_at)\n      SELECT id, 'config', $1::jsonb, NOW(), NOW()\n      FROM plugin_registry WHERE slug = 'maintenance-banner'\n      ON CONFLICT (plugin_id, key) DO UPDATE\n      SET value = $1::jsonb, updated_at = NOW()\n    `, {\n      bind: [JSON.stringify(config)],\n      type: sequelize.QueryTypes.INSERT\n    });\n\n    return res.json({ success: true, config });\n  } catch (error) {\n    return res.status(500).json({ success: false, error: error.message });\n  }\n}",
      "description": "Update banner configuration"
    }
  ],
  "pluginData": [
    {
      "key": "config",
      "value": {
        "message": "We are currently undergoing scheduled maintenance. Some features may be unavailable.",
        "type": "maintenance",
        "showIcon": true,
        "dismissible": true,
        "enabled": false,
        "startDate": null,
        "endDate": null,
        "linkText": "Learn more",
        "linkUrl": null
      }
    }
  ],
  "pluginDependencies": [],
  "pluginDocs": [
    {
      "title": "README",
      "content": "# Maintenance Banner Plugin\n\nDisplay announcement banners to inform customers about maintenance, promotions, or important notices.\n\n## Features\n\n- Multiple banner types (warning, error, info, success, maintenance)\n- Customizable message and styling\n- Dismissible banners (remembered per session)\n- Optional date range scheduling\n- Optional link button\n\n## Configuration\n\n| Setting | Type | Description |\n|---------|------|-------------|\n| message | string | The banner text to display |\n| type | enum | warning, error, info, success, maintenance |\n| showIcon | boolean | Show type-specific icon |\n| dismissible | boolean | Allow users to dismiss |\n| startDate | date | When to start showing |\n| endDate | date | When to stop showing |\n| linkText | string | Optional button text |\n| linkUrl | string | Optional button URL |\n\n## Usage\n\n1. Configure the banner message and type in plugin settings\n2. Set date range if you want scheduled display\n3. Enable the plugin\n4. The banner appears below the navigation on all pages\n",
      "category": "readme",
      "orderPosition": 0,
      "fileName": "README.md"
    }
  ],
  "adminPages": []
}
